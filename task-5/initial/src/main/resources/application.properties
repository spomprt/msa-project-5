spring.application.name=batch-processing
spring.datasource.url=jdbc:postgresql://postgresdb:5432/productsdb
spring.datasource.username=postgres
spring.datasource.password=123456
spring.datasource.driver-class-name=org.postgresql.Driver
spring.batch.jdbc.initialize-schema=always
spring.batch.jdbc.table-prefix=BATCH_
spring.batch.jdbc.schema=classpath:org/springframework/batch/core/schema-postgresql.sql

# Disable automatic batch job execution
spring.batch.job.enabled=false

# SQL initialization
spring.sql.init.mode=always
spring.sql.init.schema-locations=classpath:schema-all.sql
spring.sql.init.continue-on-error=true
spring.sql.init.platform=postgresql

management.endpoints.web.exposure.include=*
management.endpoint.health.show-details=always
management.health.probes.enabled=true

# Micrometer and Prometheus configuration
management.metrics.export.prometheus.enabled=true
management.metrics.export.prometheus.step=10s
management.metrics.distribution.percentiles-histogram.http.server.requests=true
management.metrics.distribution.percentiles.http.server.requests=0.5,0.95,0.99

# Custom metrics configuration
management.metrics.tags.application=batch-processing
management.metrics.tags.environment=docker

# OpenTelemetry tracing configuration
management.tracing.sampling.probability=1.0
management.otlp.tracing.endpoint=http://jaeger:4318/v1/traces

logging.level.com.ivanfranchin.moviesapi=DEBUG